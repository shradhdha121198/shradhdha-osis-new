<section class="slider_change_progress_main" data-section="slider_move_change_progressbar">
  <h2>Slider Move Chnage Progressbar</h2>
  <div class="slider_change_progress_main_div">
    <div class="progress">
    </div>
    <div class="slider row_slider" id="scr-el">
      {% for block in section.blocks %}
      <div class="slider_image_slide">
        <img src="{{ block.settings.image1 | img_url: 'master' }}" alt="image alt" />
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  $(document).ready(function() {
    var $slider = $('.slider');
    var $progressBar = $('.progress');
    $slider.on('beforeChange', function(event, slick, currentSlide, nextSlide) {   
      var calc = ( (nextSlide) / (slick.slideCount-1) ) * 100;
      $progressBar.css('background-size', calc + '% 100%');
    });
    $slider.slick({
      slidesToShow: 3,
      slidesToScroll: 1
    });  
  });
</script>
<style>
  .slider_change_progress_main h2{
    text-align: center;
  }
  section.slider_change_progress_main{
    max-width: 1200px;
    width: 100%;
    margin: 50px auto;
  }
  .row_slider{
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .progress {
    display: block;
    width: 100%;
    height: 10px;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 20px;
    background-color: #cbefff;
    background-image: linear-gradient(to right, #00b0ff, #00b0ff);
    background-repeat: no-repeat;
    background-size: 0 100%;
    transition: background-size .4s ease-in-out;
  }
</style>

{% schema %}
  {
    "name": "Slider Change Progressbar",
    "settings": [
	],
	"blocks": [
		{
			"type": "image",
			"name": "Add Image",
			"settings": [
              {
                "type": "image_picker",
                "id": "image1",
                "label": "Add image"
              }
			]
		}
	],
	"presets": [
		{
			"name": "Slider Move Change Progressbar",
			"category": "Slider Move Change Progressbar"
		}
	]
  }
{% endschema %}


